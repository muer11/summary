{"version":3,"sources":["React/index.js","ReactDom/index.js","index.js"],"names":["React","createElement","tag","attrs","children","console","log","ReactDOM","render","vnode","container","undefined","textnode","document","createTextNode","appendChild","keys","childrens","dom","Object","forEach","key","val","setAttribute","child","value","test","toLowerCase","style","cssText","k","removeAttribute","element","getElementById"],"mappings":"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","file":"react-source-code.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/*\n * @Descripttion:\n * @version:\n * @Author: shenjia\n * @Date: 2020-11-25 10:58:57\n * @LastEditors: shenjia\n * @LastEditTime: 2020-11-25 15:17:56\n */\nconst React = {\n  createElement\n};\n\nfunction createElement(tag, attrs, ...children) {\n  console.log('createElement', {\n    tag,\n    attrs,\n    children\n  });\n  return {\n    tag,\n    attrs,\n    children\n  };\n}\n\nexport default React;\n","/*\n * @Descripttion:\n * @version:\n * @Author: shenjia\n * @Date: 2020-11-24 19:51:40\n * @LastEditors: shenjia\n * @LastEditTime: 2020-11-25 15:20:44\n */\n\nconst ReactDOM = {\n  render: (vnode, container) => {\n    // 当多次调用render函数时，不会清除原来的内容，需先清除一下挂载目标DOM的内容\n    // container.innerHTML = '';\n    return render(vnode, container);\n  }\n};\n\n// console.log('ReactDOM', ReactDOM);\n\n// ReactDom.render(ele, document.querySelector('#root'))\nconst render = (vnode, container) => {\n  console.log('render', vnode, container);\n\n  // 若vnode未定义，则不处理\n  if (vnode === undefined) return;\n\n  // 若vnode为字符串，则插入字符串\n  if (typeof vnode === 'string') {\n    const textnode = document.createTextNode(vnode);\n    return container.appendChild(textnode);\n  }\n\n  // 若vnode为虚拟DOM对象\n  // createElement(tag,attrs,child1,child2,child3,child4...)\n  const { tag, attrs, keys, childrens } = vnode;\n  // console.log(tag, vnode);\n  const dom = document.createElement(tag);\n  // console.log('dom', dom);\n\n  if (attrs) {\n    // 有属性\n    Object.keys(vnode.keys).forEach((key) => {\n      // 取值\n      const val = attrs[key];\n      setAttribute(dom, key, val);\n    });\n  }\n\n  // 递归渲染子节点\n  childrens.forEach((child) => render(child, dom));\n  return container.appendChild(dom);\n};\n\nconst setAttribute = (dom, key, value) => {\n  if (key === 'classname') {\n    key = 'class';\n  }\n\n  // 方法\n  if (/on\\w+/.test(key)) {\n    // 转小写\n    key = key.toLowerCase();\n    dom[key] = value || '';\n  }\n  // 样式\n  else if (key === 'style') {\n    if (!value || typeof value === 'string') {\n      dom.style.cssText = value || '';\n    } else if (value && typeof value === 'object') {\n      for (let k in value) {\n        if (typeof value[k] === 'number') {\n          dom.style[k] = value[k] + 'px';\n        } else {\n          dom.style[k] = value[k];\n        }\n      }\n    }\n  }\n  // 普通属性\n  else {\n    if (key in dom) {\n      dom[key] = value || '';\n    }\n    if (value) {\n      dom.setAttribute(key, value);\n    } else {\n      dom.removeAttribute(key);\n    }\n  }\n};\n\nexport default ReactDOM;\n","/*\n * @Descripttion:\n * @version:\n * @Author: shenjia\n * @Date: 2020-11-24 13:17:50\n * @LastEditors: shenjia\n * @LastEditTime: 2020-11-25 15:17:19\n */\n\nimport React from './React/index';\nimport ReactDOM from './ReactDom/index';\n\nconst element = (\n  <div className=\"title\">\n    hello <span>react</span>\n  </div>\n);\n\nconsole.log('element', React.createElement(element));\n\nReactDOM.render(React.createElement(element), document.getElementById('root'));\n"]}